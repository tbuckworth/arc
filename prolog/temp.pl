input_colour(0,0,black).
input_colour(0,1,black).
input_colour(0,2,black).
input_colour(0,3,black).
input_colour(0,4,black).
input_colour(0,5,red).
input_colour(0,6,black).
input_colour(0,7,black).
input_colour(0,8,black).
input_colour(0,9,black).
input_colour(0,10,black).
input_colour(0,11,black).
input_colour(0,12,black).
input_colour(0,13,black).
input_colour(0,14,black).
input_colour(0,15,black).
input_colour(0,16,black).
input_colour(0,17,black).
input_colour(0,18,black).
input_colour(0,19,black).
input_colour(0,20,black).
input_colour(0,21,black).
input_colour(0,22,black).
input_colour(0,23,black).
input_colour(0,24,black).
input_colour(1,0,black).
input_colour(1,1,black).
input_colour(1,2,black).
input_colour(1,3,black).
input_colour(1,4,black).
input_colour(1,5,black).
input_colour(1,6,black).
input_colour(1,7,black).
input_colour(1,8,black).
input_colour(1,9,black).
input_colour(1,10,black).
input_colour(1,11,black).
input_colour(1,12,black).
input_colour(1,13,black).
input_colour(1,14,black).
input_colour(1,15,black).
input_colour(1,16,black).
input_colour(1,17,black).
input_colour(1,18,black).
input_colour(1,19,black).
input_colour(1,20,black).
input_colour(1,21,black).
input_colour(1,22,black).
input_colour(1,23,black).
input_colour(1,24,black).
input_colour(2,0,black).
input_colour(2,1,black).
input_colour(2,2,black).
input_colour(2,3,black).
input_colour(2,4,black).
input_colour(2,5,black).
input_colour(2,6,black).
input_colour(2,7,black).
input_colour(2,8,black).
input_colour(2,9,black).
input_colour(2,10,black).
input_colour(2,11,black).
input_colour(2,12,black).
input_colour(2,13,black).
input_colour(2,14,black).
input_colour(2,15,black).
input_colour(2,16,black).
input_colour(2,17,black).
input_colour(2,18,black).
input_colour(2,19,black).
input_colour(2,20,black).
input_colour(2,21,black).
input_colour(2,22,black).
input_colour(2,23,black).
input_colour(2,24,black).
input_colour(3,0,black).
input_colour(3,1,black).
input_colour(3,2,black).
input_colour(3,3,black).
input_colour(3,4,black).
input_colour(3,5,black).
input_colour(3,6,black).
input_colour(3,7,black).
input_colour(3,8,black).
input_colour(3,9,black).
input_colour(3,10,black).
input_colour(3,11,black).
input_colour(3,12,black).
input_colour(3,13,black).
input_colour(3,14,black).
input_colour(3,15,black).
input_colour(3,16,black).
input_colour(3,17,black).
input_colour(3,18,black).
input_colour(3,19,black).
input_colour(3,20,black).
input_colour(3,21,black).
input_colour(3,22,black).
input_colour(3,23,black).
input_colour(3,24,black).
input_colour(4,0,black).
input_colour(4,1,black).
input_colour(4,2,black).
input_colour(4,3,black).
input_colour(4,4,black).
input_colour(4,5,black).
input_colour(4,6,black).
input_colour(4,7,black).
input_colour(4,8,black).
input_colour(4,9,black).
input_colour(4,10,black).
input_colour(4,11,black).
input_colour(4,12,black).
input_colour(4,13,black).
input_colour(4,14,black).
input_colour(4,15,black).
input_colour(4,16,black).
input_colour(4,17,black).
input_colour(4,18,black).
input_colour(4,19,black).
input_colour(4,20,black).
input_colour(4,21,black).
input_colour(4,22,black).
input_colour(4,23,black).
input_colour(4,24,black).
input_colour(5,0,black).
input_colour(5,1,black).
input_colour(5,2,black).
input_colour(5,3,black).
input_colour(5,4,black).
input_colour(5,5,black).
input_colour(5,6,black).
input_colour(5,7,black).
input_colour(5,8,black).
input_colour(5,9,black).
input_colour(5,10,black).
input_colour(5,11,black).
input_colour(5,12,black).
input_colour(5,13,black).
input_colour(5,14,black).
input_colour(5,15,black).
input_colour(5,16,black).
input_colour(5,17,black).
input_colour(5,18,black).
input_colour(5,19,black).
input_colour(5,20,black).
input_colour(5,21,black).
input_colour(5,22,black).
input_colour(5,23,black).
input_colour(5,24,black).
input_colour(6,0,black).
input_colour(6,1,black).
input_colour(6,2,black).
input_colour(6,3,black).
input_colour(6,4,black).
input_colour(6,5,black).
input_colour(6,6,black).
input_colour(6,7,black).
input_colour(6,8,black).
input_colour(6,9,black).
input_colour(6,10,black).
input_colour(6,11,black).
input_colour(6,12,black).
input_colour(6,13,black).
input_colour(6,14,black).
input_colour(6,15,black).
input_colour(6,16,black).
input_colour(6,17,black).
input_colour(6,18,black).
input_colour(6,19,black).
input_colour(6,20,black).
input_colour(6,21,black).
input_colour(6,22,black).
input_colour(6,23,black).
input_colour(6,24,black).
input_colour(7,0,black).
input_colour(7,1,black).
input_colour(7,2,black).
input_colour(7,3,black).
input_colour(7,4,black).
input_colour(7,5,black).
input_colour(7,6,black).
input_colour(7,7,black).
input_colour(7,8,black).
input_colour(7,9,black).
input_colour(7,10,black).
input_colour(7,11,black).
input_colour(7,12,black).
input_colour(7,13,black).
input_colour(7,14,black).
input_colour(7,15,black).
input_colour(7,16,black).
input_colour(7,17,black).
input_colour(7,18,black).
input_colour(7,19,black).
input_colour(7,20,black).
input_colour(7,21,black).
input_colour(7,22,black).
input_colour(7,23,black).
input_colour(7,24,black).
input_colour(8,0,black).
input_colour(8,1,black).
input_colour(8,2,black).
input_colour(8,3,black).
input_colour(8,4,black).
input_colour(8,5,black).
input_colour(8,6,black).
input_colour(8,7,black).
input_colour(8,8,black).
input_colour(8,9,black).
input_colour(8,10,black).
input_colour(8,11,black).
input_colour(8,12,black).
input_colour(8,13,black).
input_colour(8,14,black).
input_colour(8,15,black).
input_colour(8,16,black).
input_colour(8,17,black).
input_colour(8,18,black).
input_colour(8,19,black).
input_colour(8,20,black).
input_colour(8,21,black).
input_colour(8,22,black).
input_colour(8,23,black).
input_colour(8,24,black).
input_colour(9,0,black).
input_colour(9,1,black).
input_colour(9,2,black).
input_colour(9,3,black).
input_colour(9,4,black).
input_colour(9,5,black).
input_colour(9,6,black).
input_colour(9,7,teal).
input_colour(9,8,black).
input_colour(9,9,black).
input_colour(9,10,black).
input_colour(9,11,black).
input_colour(9,12,black).
input_colour(9,13,black).
input_colour(9,14,black).
input_colour(9,15,black).
input_colour(9,16,black).
input_colour(9,17,black).
input_colour(9,18,black).
input_colour(9,19,black).
input_colour(9,20,black).
input_colour(9,21,black).
input_colour(9,22,black).
input_colour(9,23,black).
input_colour(9,24,black).

nrow(NR):-
    input_colour(NR,_,_),
    input_colour(R2,_,_),
    \+ R2 > NR.

ncol(NC):-
    input_colour(_,NC,_),
    input_colour(_,C2,_),
    \+ C2 > NC.

vertical_colour(C,Colour):-
    input_colour(R,C,Colour),
    R is 0,
    \+ Colour is 'black'.

vertical_colour(C,Colour):-
    nrow(NR),
    input_colour(NR,C,Colour),
    \+ Colour is 'black'.


horizontal_colour(R,Colour):-
    input_colour(R,C,Colour),
    C is 0,
    \+ Colour is 'black'.

horizontal_colour(R,Colour):-
    ncol(NC),
    input_colour(R,NC,Colour),
    \+ Colour is 'black'.


horizontal_diff(N):-
    horizontal_colour(R,_),
    horizontal_colour(R2,_),
    R2 > R,
    N is R2 - R.

vertical_diff(N):-
    vertical_colour(C,_),
    vertical_colour(C2,_),
    C2 > C,
    N is C2 - C.

remainder(N,D,R):-
    integer(X),
    R is N - X * D.

output_colour(_,C,Colour):-
    vertical_colour(Cstart,Colour),
    vertical_diff(VD),
    C >= Cstart,
    VDtwo is 2 * VD,
    remainder(C-Cstart, VDtwo, R),
    R == 0.

output_colour(R,_,Colour):-
    horizontal_colour(Rstart,Colour),
    horizontal_diff(VD),
    R >= Rstart,
    VDtwo is 2 * VD,
    remainder(R-Rstart, VDtwo, Rem),
    Rem == 0.


output_colour(R,C,black):-
    \+ output_colour(R,C,_).

